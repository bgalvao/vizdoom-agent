REWRITE WITHOUT EXTENDING LIST CLASSES (exception for tree)